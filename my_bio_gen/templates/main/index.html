<!-- templates/posts/index.html -->
{% load static %}

<!DOCTYPE html> 
<html lang="ru">
  <head>
    <meta charset="URF-8">
    <title>MyBiogen</title>
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
  </head>
  <body>
    <header class="header">
      <div class="main-header">
        <div class="container">
          <div class="row">
            <div class="col-md-3">
              <img src="{% static 'img/Logo1.png' %}" alt="Logo_MyBiogen"> 
            </div>
            <div class="offset-md-4 col-md-5">
              <nav>
                <ul class="menu d-flex justify-content-between">
                  <li class="menu__item">
                    <a href="#">О бренде</a>
                  </li>
                  <li class="menu__item">
                    <a href="#">продукция</a>
                  </li>
                  <li class="menu__item">
                    <a href="#">контакты</a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </header>

    <section class="ofer">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <img src="{% static 'img/Slogan1.png' %}" alt="Slogan_MyBiogen">
          </div>
        </div>
      </div>
    </section>

    <section class="about">
      <div class="container">
        <div class="row">
          <div class="col-md-8">
            <div class="about_text">
              <h1>Бренд MYBIOGEN</h1>
              <p>
                В 2022 году благодаря коллаборации американской лаборатории Biogenesis Lab с российской
                компанией «Фармацевтикал Косметик Рус» – эксклюзивным дистрибьютором продукции
                лаборатории в России, удалось создать бренд «интеллектуального» домашнего ухода за кожей</p>
              <h1>MYBIOGEN By Biogenesis Lab.</h1>
            </div>
          </div>

          <div class="col-md-4">
            <div class="3d">
              <div id="CanvasFrame" class="container"></div>
              <script type="importmap">
                {
                    "imports": {
                        "three": "https://unpkg.com/three@0.139.0/build/three.module.js",
                        "OrbitControls": "https://unpkg.com/three@0.139.0/examples/jsm/controls/OrbitControls.js",
                        "GLTFLoader": "https://unpkg.com/three@0.139.0/examples/jsm/loaders/GLTFLoader.js",
                        "RectAreaLightHelper": "https://unpkg.com/three@0.139.0/examples/jsm/helpers/RectAreaLightHelper.js",
                        "RectAreaLightUniformsLib": "https://unpkg.com/three@0.139.0/examples/jsm/lights/RectAreaLightUniformsLib.js"
                    }
                }
              </script>
              <script type="module">

                import * as THREE from 'three';
                import { OrbitControls } from 'OrbitControls';
                import { GLTFLoader } from 'GLTFLoader';
                import { RectAreaLightHelper } from 'RectAreaLightHelper'
                import { RectAreaLightUniformsLib } from 'RectAreaLightUniformsLib';
        
                function init() {
                    let container = document.getElementById('CanvasFrame')
        
                    //Scene
                    const scene = new THREE.Scene()
                    scene.background = new THREE.Color("#FFFFFF");
        
                    //Camera
                    const camera = new THREE.PerspectiveCamera(45, 1 / 1.5, 0.1, 300);

                    //render
                    const renderer = new THREE.WebGLRenderer({antialias: true})
                    renderer.setSize(364, 500)
                    container.appendChild(renderer.domElement)
        
                    let plain;
                    {
                        plain = new THREE.Mesh(
                            new THREE.PlaneGeometry(1000, 1000),
                            new THREE.MeshBasicMaterial({color: "#FFFFFF"})
                        )
                        plain.reciveShadow = true;
                        plain.position.set(0, -1, 0)
                        plain.rotateX(-Math.PI / 2);
                        scene.add(plain)
                    }
        
                    // Model
                    {
                        const loader = new GLTFLoader();
                        loader.load('../static/models/model/scene.gltf', gltf => {
                        scene.add(gltf.scene);
                        }, 
                            function (error) {
                                console.log('Error: ' + error)
                            }
                        )
                    }
                    
                    {
                        const light = new THREE.DirectionalLight(0x239B9F, 1)
                        light.position.set(-2, 0, 10)
                        light.lookAt(0, -1, 0)
                        scene.add(light)
        
                        // Helper
                        // const helper = new THREE.DirectionalLightHelper(light, 5)
                        // scene.add(helper)
                    }
        
                    {
                        const light = new THREE.DirectionalLight(0x239B9F, 1)
                        light.position.set(2, 0, 5)
                        light.lookAt(0, 1, 0)
                        // scene.add(light)
        
                        // Helper
                        // const helper = new THREE.DirectionalLightHelper(light, 5)
                        // scene.add(helper)
                    }
        
                    RectAreaLightUniformsLib.init();
                    {
                        const rectLight = new THREE.RectAreaLight(0x239B9F, 1, 100, 100);
                        rectLight.position.set(-10,0,0)
                        rectLight.rotation.y = Math.PI + Math.PI/4;
                        scene.add(rectLight)
                    }
        
                    {
                        const rectLight = new THREE.RectAreaLight(0x239B9F, 1, 100, 100);
                        rectLight.position.set(10,0,0)
                        rectLight.rotation.y = Math.PI - Math.PI/4;
                        // scene.add(rectLight)
                    }
                    
                    //OrbitControls
                    const controls = new OrbitControls(camera, renderer.domElement);
                    controls.autoRotate = true;
                    controls.autoRotateSpeed = 2;
                    controls.enableDamping = true;
                    camera.position.set( 0, 16, 49 );
                    controls.target = new THREE.Vector3(0,16,5)
                    controls.update();
        
                    // Animate
                    function animate() {
                        requestAnimationFrame(animate)
                        controls.update();
                        renderer.render(scene, camera)
                    }
                    animate()
        
                }
        
                init()
            </script>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="products">
      <div class="container">

      </div>
    </section>

    <section class="communication">
      <div class="container">

      </div>
    </section>

    <footer class="footer">
      <div class="container">

      </div>
    </footer>
  </body>
</html>

